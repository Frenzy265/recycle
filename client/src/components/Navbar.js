import styled from "styled-components/macro";
import { Link, useLocation } from "react-router-dom";
import { useEffect } from "react";
import PropTypes from "prop-types";

const Footer = styled.footer`
  min-height: 60px;
  width: 100%;
  display: flex;
  justify-content: space-evenly;
  position: fixed;
  bottom: 0;
  left: 0;
  align-items: center;
  background-color: var(--primary-color);

  svg {
    height: 25px;
    /* width: 25px; */
  }

  div {
    width: 80vw;
    max-width: 800px;
    display: flex;
    justify-content: space-between;
  }
`;

const Navlink = styled(Link)`
  svg {
    fill: ${(props) =>
      props.$active ? "var(--action-color)" : "var(--tertiary-color)"};
  }
`;

export const Navbar = () => {
  const location = useLocation();
  useEffect(() => {}, [location]);

  return (
    <Footer>
      <div>
        <Navlink to="/" $active={location.pathname === "/"}>
          <svg viewBox="0 0 57.289 57.289">
            <path d="M20.651,29.3a1.792,1.792,0,0,1-2.693,1.921L13.4,28.378,7.708,37.486a3.587,3.587,0,0,0,3.035,5.481H16.56A1.343,1.343,0,0,1,17.9,44.309v4.476a1.343,1.343,0,0,1-1.343,1.343H10.755A10.748,10.748,0,0,1,1.646,33.693l5.687-9.107L2.775,21.739a1.792,1.792,0,0,1,.546-3.263l12.335-2.848A1.79,1.79,0,0,1,17.8,16.97ZM31.679,8.838l4.62,7.393L31.741,19.08a1.792,1.792,0,0,0,.546,3.263L44.621,25.19a1.79,1.79,0,0,0,2.147-1.342l2.848-12.335a1.792,1.792,0,0,0-2.693-1.921L42.37,12.438,37.753,5.044a10.747,10.747,0,0,0-18.218,0l-2.01,3.219a1.343,1.343,0,0,0,.427,1.85l3.8,2.372a1.343,1.343,0,0,0,1.85-.427l2.01-3.216A3.584,3.584,0,0,1,31.679,8.838ZM55.643,33.693l-3.079-4.931a1.343,1.343,0,0,0-1.85-.428L46.925,30.7a1.343,1.343,0,0,0-.427,1.85l3.084,4.936a3.587,3.587,0,0,1-3.036,5.478H35.806V37.6a1.792,1.792,0,0,0-3.056-1.266L23.8,45.281a1.79,1.79,0,0,0,0,2.532l8.951,8.95A1.791,1.791,0,0,0,35.806,55.5v-5.37H46.534A10.748,10.748,0,0,0,55.643,33.693Z" />
          </svg>
        </Navlink>
        <Navlink
          to={"/search"}
          $active={location.pathname.startsWith("/search")}
        >
          <svg viewBox="0 0 30 30.005">
            <path d="M29.592,25.941,23.75,20.1a1.405,1.405,0,0,0-1-.41H21.8a12.183,12.183,0,1,0-2.11,2.11v.955a1.405,1.405,0,0,0,.41,1l5.842,5.842a1.4,1.4,0,0,0,1.986,0l1.658-1.658a1.413,1.413,0,0,0,.006-1.992Zm-17.4-6.252a7.5,7.5,0,1,1,7.5-7.5A7.5,7.5,0,0,1,12.188,19.689Z" />
          </svg>
        </Navlink>
        <Navlink to="/box" $active={location.pathname.startsWith("/box")}>
          <svg viewBox="0 0 59.691 44.086">
            <path d="M39.7,24.294a4.477,4.477,0,0,1-3.861-2.3l-6-10.49-5.987,10.49a4.493,4.493,0,0,1-3.87,2.313,4.081,4.081,0,0,1-1.24-.187L5.97,20.259V37.775a3.112,3.112,0,0,0,2.257,3.051L28.39,46.149a5.755,5.755,0,0,0,2.891,0l20.182-5.324a3.129,3.129,0,0,0,2.257-3.051V20.259L40.943,24.107A4.081,4.081,0,0,1,39.7,24.294ZM59.529,13.253l-4.8-10.116a1.506,1.506,0,0,0-1.557-.876L29.844,5.4,38.4,20.367a1.5,1.5,0,0,0,1.725.718l18.456-5.56a1.646,1.646,0,0,0,.951-2.273ZM4.962,3.137.16,13.253A1.629,1.629,0,0,0,1.1,15.516l18.456,5.56a1.5,1.5,0,0,0,1.725-.718L29.844,5.4,6.511,2.261A1.507,1.507,0,0,0,4.962,3.137Z" />
          </svg>
        </Navlink>
        <Navlink to="/challenge" $active={location.pathname === "/challenge"}>
          <svg viewBox="0 0 39.925 42.005">
            <path d="M38.261,5.251H31.053V1.969A1.831,1.831,0,0,0,29.389,0H10.536A1.831,1.831,0,0,0,8.872,1.969V5.251H1.664A1.831,1.831,0,0,0,0,7.22v4.594a11.16,11.16,0,0,0,4.291,8.262A14.834,14.834,0,0,0,11.915,23.5a17.07,17.07,0,0,0,4.72,6.038v5.907H13.308a4.307,4.307,0,0,0-4.436,4.594v.985a.921.921,0,0,0,.832.985H30.221a.921.921,0,0,0,.832-.985v-.985a4.307,4.307,0,0,0-4.436-4.594H23.289V29.535A17.07,17.07,0,0,0,28.01,23.5a14.784,14.784,0,0,0,7.625-3.421,11.183,11.183,0,0,0,4.291-8.262V7.22A1.831,1.831,0,0,0,38.261,5.251ZM6.883,15.818a6.16,6.16,0,0,1-2.447-4V10.5h4.45a34.509,34.509,0,0,0,.887,7.072,10.657,10.657,0,0,1-2.89-1.756Zm28.606-4c0,1.321-1.227,2.962-2.447,4a10.694,10.694,0,0,1-2.9,1.756,34.509,34.509,0,0,0,.887-7.072h4.457Z" />
          </svg>
        </Navlink>
      </div>
    </Footer>
  );
};

Navbar.propType = {
  active: PropTypes.bool,
};
